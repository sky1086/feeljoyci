!function(){if(void 0===document.createElement("div").animate([]).oncancel){if(WEB_ANIMATIONS_TESTING)var e=function(){return webAnimations1.timeline.currentTime};else if(window.performance&&performance.now)var e=function(){return performance.now()};else var e=function(){return Date.now()};var n=function(e,n,t){this.target=e,this.currentTime=n,this.timelineTime=t,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},t=window.Element.prototype.animate;window.Element.prototype.animate=function(i,a){var c=t.call(this,i,a);c._cancelHandlers=[],c.oncancel=null;var r=c.cancel;c.cancel=function(){r.call(this);var t=new n(this,null,e()),i=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){i.forEach(function(e){e.call(t.target,t)})},0)};var l=c.addEventListener;c.addEventListener=function(e,n){"function"==typeof n&&"cancel"==e?this._cancelHandlers.push(n):l.call(this,e,n)};var o=c.removeEventListener;return c.removeEventListener=function(e,n){if("cancel"==e){var t=this._cancelHandlers.indexOf(n);t>=0&&this._cancelHandlers.splice(t,1)}else o.call(this,e,n)},c}}}();