!function(t,e){function n(t){if("number"==typeof t)return t;var e={};for(var n in t)e[n]=t[n];return e}function i(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=T}function r(){return t.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function a(e,n,r){var a=new i;return n&&(a.fill="both",a.duration="auto"),"number"!=typeof e||isNaN(e)?void 0!==e&&Object.getOwnPropertyNames(e).forEach(function(n){if("auto"!=e[n]){if(("number"==typeof a[n]||"duration"==n)&&("number"!=typeof e[n]||isNaN(e[n])))return;if("fill"==n&&-1==y.indexOf(e[n]))return;if("direction"==n&&-1==O.indexOf(e[n]))return;if("playbackRate"==n&&1!==e[n]&&t.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;a[n]=e[n]}}):a.duration=e,a}function o(t){return"number"==typeof t&&(t=isNaN(t)?{duration:0}:{duration:t}),t}function u(e,n){return e=t.numericTimingToObject(e),a(e,n)}function c(t,e,n,i){return t<0||t>1||n<0||n>1?T:function(r){function a(t,e,n){return 3*t*(1-n)*(1-n)*n+3*e*(1-n)*n*n+n*n*n}if(r<=0){var o=0;return t>0?o=e/t:!e&&n>0&&(o=i/n),o*r}if(r>=1){var u=0;return n<1?u=(i-1)/(n-1):1==n&&t<1&&(u=(e-1)/(t-1)),1+u*(r-1)}for(var c=0,s=1;c<s;){var f=(c+s)/2,l=a(t,n,f);if(Math.abs(r-l)<1e-5)return a(e,i,f);l<r?c=f:s=f}return a(e,i,f)}}function s(t,e){return function(n){if(n>=1)return 1;var i=1/t;return(n+=e*i)-n%i}}function f(t){A||(A=document.createElement("div").style),A.animationTimingFunction="",A.animationTimingFunction=t;var e=A.animationTimingFunction;if(""==e&&r())throw new TypeError(t+" is not a valid value for easing");return e}function l(t){if("linear"==t)return T;var e=D.exec(t);if(e)return c.apply(this,e.slice(1).map(Number));var n=S.exec(t);if(n)return s(Number(n[1]),{start:w,middle:N,end:M}[n[2]]);var i=E[t];return i||T}function b(t){return Math.abs(m(t)/t.playbackRate)}function m(t){return 0===t.duration||0===t.iterations?0:t.duration*t.iterations}function d(t,e,n){if(null==e)return k;var i=n.delay+t+n.endDelay;return e<Math.min(n.delay,i)?F:e>=Math.min(n.delay+t,i)?P:R}function h(t,e,n,i,r){switch(i){case F:return"backwards"==e||"both"==e?0:null;case R:return n-r;case P:return"forwards"==e||"both"==e?t:null;case k:return null}}function _(t,e,n,i,r){var a=r;return 0===t?e!==F&&(a+=n):a+=i/t,a}function g(t,e,n,i,r,a){var o=t===1/0?e%1:t%1;return 0!==o||n!==P||0===i||0===r&&0!==a||(o=1),o}function v(t,e,n,i){return t===P&&e===1/0?1/0:1===n?Math.floor(i)-1:Math.floor(i)}function p(t,e,n){var i=t;if("normal"!==t&&"reverse"!==t){var r=e;"alternate-reverse"===t&&(r+=1),i="normal",r!==1/0&&r%2!=0&&(i="reverse")}return"normal"===i?n:1-n}function j(t,e,n){var i=d(t,e,n),r=h(t,n.fill,e,i,n.delay);if(null===r)return null;var a=_(n.duration,i,n.iterations,r,n.iterationStart),o=g(a,n.iterationStart,i,n.iterations,r,n.duration),u=v(i,n.iterations,o,a),c=p(n.direction,u,o);return n._easingFunction(c)}var y="backwards|forwards|both|none".split("|"),O="reverse|alternate|alternate-reverse".split("|"),T=function(t){return t};i.prototype={_setMember:function(e,n){this["_"+e]=n,this._effect&&(this._effect._timingInput[e]=n,this._effect._timing=t.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=t.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(t){this._setMember("delay",t)},get delay(){return this._delay},set endDelay(t){this._setMember("endDelay",t)},get endDelay(){return this._endDelay},set fill(t){this._setMember("fill",t)},get fill(){return this._fill},set iterationStart(t){if((isNaN(t)||t<0)&&r())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",t)},get iterationStart(){return this._iterationStart},set duration(t){if("auto"!=t&&(isNaN(t)||t<0)&&r())throw new TypeError("duration must be non-negative or auto, received: "+t);this._setMember("duration",t)},get duration(){return this._duration},set direction(t){this._setMember("direction",t)},get direction(){return this._direction},set easing(t){this._easingFunction=l(f(t)),this._setMember("easing",t)},get easing(){return this._easing},set iterations(t){if((isNaN(t)||t<0)&&r())throw new TypeError("iterations must be non-negative, received: "+t);this._setMember("iterations",t)},get iterations(){return this._iterations}};var w=1,N=.5,M=0,E={ease:c(.25,.1,.25,1),"ease-in":c(.42,0,1,1),"ease-out":c(0,0,.58,1),"ease-in-out":c(.42,0,.58,1),"step-start":s(1,w),"step-middle":s(1,N),"step-end":s(1,M)},A=null,I="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",D=new RegExp("cubic-bezier\\("+I+","+I+","+I+","+I+"\\)"),S=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,k=0,F=1,P=2,R=3;t.cloneTimingInput=n,t.makeTiming=a,t.numericTimingToObject=o,t.normalizeTimingInput=u,t.calculateActiveDuration=b,t.calculateIterationProgress=j,t.calculatePhase=d,t.normalizeEasing=f,t.parseEasingFunction=l,WEB_ANIMATIONS_TESTING&&(e.normalizeTimingInput=u,e.normalizeEasing=f,e.parseEasingFunction=l,e.calculateActiveDuration=b,e.calculatePhase=d,e.PhaseNone=k,e.PhaseBefore=F,e.PhaseActive=R,e.PhaseAfter=P)}(webAnimationsShared,webAnimationsTesting);