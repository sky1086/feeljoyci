<html><head></head><body><div hidden="" by-polymer-bundler=""><link rel="import" href="../components/pre-loader.html"></div><dom-module id="customer-editprofile"><template><style is="custom-style" include="shared-styles">.top-padded{padding:11px;}paper-radio-group{@apply (--layout-vertical);@apply (--layout-start);padding-left:0;}paper-radio-button{padding-left:0 !important;--paper-radio-button-label-color:#000;--paper-radio-button-unchecked-color:var(--paper-cyan-300);--paper-radio-button-checked-color:var(--paper-cyan-300);}paper-input{@apply (--layout-self-stretch);}.save{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;--paper-button-ink-color:#fff;background-color:var(--paper-cyan-300);color:#fff;}.save.cyan{background-color:var(--paper-cyan-300);}.save.darkcyan{background-color:var(--paper-teal-300);}.save.darkgreen{background-color:var(--paper-green-300);}.save.green{background-color:var(--paper-light-green-300);}.main-content{@apply (--layout-vertical);@apply (--layout-start);@apply (--layout-center-justified);}.main-content.cyan paper-input{--paper-input-container-focus-color:var(--paper-cyan-400);}.main-content.cyan paper-radio-button{--paper-radio-button-unchecked-color:var(--paper-cyan-300);--paper-radio-button-checked-color:var(--paper-cyan-300);}.main-content.darkcyan paper-input{--paper-input-container-focus-color:var(--paper-teal-400);}.main-content.darkcyan paper-radio-button{--paper-radio-button-unchecked-color:var(--paper-teal-300);--paper-radio-button-checked-color:var(--paper-teal-300);}.main-content.darkgreen paper-input{--paper-input-container-focus-color:var(--paper-green-400);}.main-content.darkgreen paper-radio-button{--paper-radio-button-unchecked-color:var(--paper-green-300);--paper-radio-button-checked-color:var(--paper-green-300);}.main-content.green paper-input{--paper-input-container-focus-color:var(--paper-light-green-400);}.main-content.green paper-radio-button{--paper-radio-button-unchecked-color:var(--paper-light-green-300);--paper-radio-button-checked-color:var(--paper-light-green-300);}.button-bottoms{@apply (--layout-horizontal);@apply (--layout-end-justified);}</style><iron-ajax id="ajaxbaba" url="{{baseurl}}" handle-as="json" last-response="{{baseresponse}}" with-credentials=""></iron-ajax><iron-ajax id="aCustomer" url="{{userurl}}" handle-as="json" last-response="{{customerresponse}}" with-credentials=""></iron-ajax><iron-ajax id="aSave" url="{{detailsurl}}" method="POST" handle-as="json" content-type="application/x-www-form-urlencoded" last-response="{{detailsresponse}}" body="[[sendDetails]]" with-credentials=""></iron-ajax><div class$="main-content top-padded [[themeclass]]"><paper-input id="name" label="Display Name" value="{{name}}"></paper-input><paper-input id="age" label="Age" type="number" value="{{age}}" minlength="2" maxlength="2" min="10" max="99"></paper-input><paper-radio-group class="top-padded" selected="{{gender}}"><paper-radio-button name="male">Male</paper-radio-button><paper-radio-button name="female">Female</paper-radio-button><paper-radio-button name="nonbinary">Non-Binary</paper-radio-button></paper-radio-group></div><div class="button-bottoms top-padded"><paper-button class$="save [[themeclass]]" id="save" raised="">Save</paper-button></div><app-toast id="updated" text="Your profile has been updated"></app-toast></template><script>Polymer({is:"customer-editprofile",properties:{baseurl:{type:String,value:projectHostName+"/apis/user/listeners"},baseresponse:{type:Array},email:{type:String},name:{type:String},age:{type:Number},gender:{type:String,value:"male"},authchecked:{type:Boolean},loggedin:{type:Boolean},userdata:{type:Object},userurl:{type:String,value:projectHostName+"/apis/user/details/"},customerresponse:{type:Object},detailsurl:{type:String,value:projectHostName+"/apis/signup/details"},sendDetails:{type:Boolean,computed:"_computeSendDetails(email, name, age, gender)"}},listeners:{"ajaxbaba.error":"onErrorBuddy","ajaxbaba.response":"onSuccessBuddy","save.tap":"onSave"},observers:["_onRedirect(authchecked, loggedin)","onUserdata(userdata)","_onCustomerResponse(customerresponse)"],onUserdata:function(){this.userdata.hasOwnProperty("userid")&&(this.userurl=this.userurl+this.userdata.userid,this.$.aCustomer.generateRequest())},_computeSendDetails:function(e,t,s,a){return this.$.save.disabled=!(e&&t&&s&&a),{email:e,contact_name:t,age:s,gender:a}},_onCustomerResponse:function(){this.age=this.customerresponse.data.age,this.email=this.customerresponse.data.email,this.name=this.customerresponse.data.contact_name,this.gender=this.customerresponse.data.gender.toLowerCase()},onErrorBuddy:function(){},onSuccessBuddy:function(){},_onRedirect:function(e,t){e&&!1===t&&(window.location.href="/welcome?redirect="+encodeURIComponent("https://feeljoy.in/editprofile"))},onSave:function(){this.$.aSave.generateRequest(),this.$.updated.open()}});</script></dom-module></body></html>